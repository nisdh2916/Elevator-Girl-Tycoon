<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¹ê°•ê¸° ìš´ì „ì› íƒ€ì´ì¿¤ - HTML ë°œí‘œìš© ìŠ¬ë¼ì´ë“œ</title>
    <style>
        @font-face {
            font-family: 'ChosunIlboMyungjo';
            src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_one@1.0/Chosunilbo_myungjo.woff') format('woff');
            font-weight: normal;
            font-display: swap;
        }

        :root {
            --bg-color: #1a1212;
            --panel-bg: #2d2424;
            --accent-gold: #ffb300;
            --text-color: #e0e0e0;
            --elevator-door: #5d4037;
            --elevator-light: #ffeb3b;
            --danger-color: #ff5252;
            --success-color: #76ff03;
        }

        * {
            box-sizing: border-box;
            user-select: none;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'ChosunIlboMyungjo', serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* ì „ì²´ ë ˆì´ì•„ì›ƒ: ì™¼ìª½ ìŠ¬ë¼ì´ë“œ / ì˜¤ë¥¸ìª½ ê²Œì„ */
        #presentation-root {
            display: flex;
            width: 1400px;
            height: 90vh;
            max-height: 850px;
            gap: 10px;
        }

        /* ----- ìŠ¬ë¼ì´ë“œ íŒ¨ë„ (ì¢Œì¸¡) ----- */
        #slides-panel {
            flex: 0 0 520px;
            background: #211717;
            border: 4px solid #4e342e;
            display: flex;
            flex-direction: column;
            padding: 16px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        }

        #slides-header {
            border-bottom: 2px solid #4e342e;
            padding-bottom: 8px;
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: baseline;
        }

        #slides-header-title {
            font-size: 24px;
            color: var(--accent-gold);
        }

        #slide-indicator {
            font-size: 16px;
            color: #bcaaa4;
        }

        #slide-title-display {
            font-size: 18px;
            color: #ffcc80;
            margin-bottom: 4px;
        }

        #slides-container {
            flex: 1;
            position: relative;
            overflow: hidden;
        }

        .ppt-slide {
            position: absolute;
            inset: 0;
            padding: 12px 4px 4px 4px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.25s ease-in-out;
            overflow-y: auto;
        }

        .ppt-slide.active {
            opacity: 1;
            pointer-events: auto;
        }

        .ppt-slide h2 {
            font-size: 22px;
            margin: 4px 0 8px;
            color: var(--accent-gold);
        }

        .ppt-slide h3 {
            font-size: 18px;
            margin: 8px 0 4px;
            color: #ffcc80;
        }

        .ppt-slide p {
            font-size: 15px;
            line-height: 1.6;
            margin: 4px 0;
        }

        .ppt-slide ul {
            margin: 4px 0 4px 18px;
            padding: 0;
            font-size: 15px;
            line-height: 1.5;
        }

        .ppt-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            border: 1px solid #5d4037;
            font-size: 13px;
            margin-right: 4px;
            background: #3e2723;
        }

        #slide-controls {
            margin-top: 8px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
        }

        #slide-controls-left {
            display: flex;
            gap: 6px;
        }

        .slide-nav-btn {
            padding: 6px 14px;
            font-family: inherit;
            font-size: 14px;
            border-radius: 4px;
            background: #5d4037;
            color: #f5f5f5;
            border: 1px solid #3e2723;
            cursor: pointer;
        }

        .slide-nav-btn:hover {
            background: #4e342e;
        }

        #slide-controls-hint {
            font-size: 11px;
            color: #bcaaa4;
            text-align: right;
        }

        /* ìŠ¬ë¼ì´ë“œì—ì„œ ê²Œì„ì„ ì œì–´í•˜ê¸° ìœ„í•œ ë§í¬ ìŠ¤íƒ€ì¼ */
        .algo-link {
            display: inline-block;
            padding: 4px 8px;
            margin: 2px 2px 2px 0;
            font-size: 13px;
            border-radius: 4px;
            border: 1px dashed #795548;
            background: #3e2723;
            color: #ffcc80;
            cursor: pointer;
        }

        .algo-link:hover {
            background: #4e342e;
        }

        .inline-label {
            font-size: 13px;
            color: #bcaaa4;
        }

        /* ----- ê²Œì„ íŒ¨ë„ (ìš°ì¸¡) ----- */
        #game-panel {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        #game-container {
            display: flex;
            width: 780px;
            height: 90vh;
            max-height: 800px;
            background: #000;
            border: 4px solid #4e342e;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
        }

        /* --- Left: Building Simulation (Visual Only) --- */
        #building-view {
            width: 160px;
            position: relative;
            background: #263238;
            border-right: 4px solid #4e342e;
            overflow: hidden;
            display: flex;
            flex-direction: column-reverse;
        }

        .floor {
            position: relative;
            width: 100%;
            height: 50px;
            border-top: 1px solid #37474f;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .floor-label {
            position: absolute;
            left: 5px;
            color: #546e7a;
            font-size: 20px;
        }

        #elevator-shaft {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            bottom: 0;
            width: 40px;
            height: 100%;
            background: #102027;
            border-left: 2px solid #000;
            border-right: 2px solid #000;
            z-index: 10;
            pointer-events: none;
        }

        #elevator-car {
            position: absolute;
            left: 2px;
            bottom: 0;
            width: 32px;
            height: 46px;
            background: var(--elevator-door);
            border: 2px solid #3e2723;
            transition: bottom 0.5s linear;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 12px;
            box-shadow: inset 0 0 5px #000;
        }

        #elevator-car::after {
            content: '';
            position: absolute;
            top: 2px;
            width: 20px;
            height: 10px;
            background: var(--elevator-light);
            opacity: 0.5;
        }

        /* --- Right: Operator Interface --- */
        #control-panel {
            flex: 1;
            background: var(--panel-bg);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            overflow: hidden;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #4e342e;
            padding-bottom: 10px;
            margin-bottom: 10px;
            flex-shrink: 0;
        }

        header h1 {
            margin: 0;
            color: var(--accent-gold);
            font-size: 28px;
            text-shadow: 2px 2px 0 #000;
        }

        .wave-info {
            font-size: 18px;
            color: #bcaaa4;
        }

        .score-info {
            font-size: 18px;
            color: var(--success-color);
        }

        /* Passenger Interface Area */
        #passenger-interface {
            flex: 1;
            display: flex;
            gap: 20px;
            min-height: 0;
        }

        .zone {
            flex: 1;
            background: #3e2723;
            border: 2px solid #5d4037;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .zone-header {
            background: #4e342e;
            padding: 10px;
            font-size: 18px;
            color: var(--accent-gold);
            text-align: center;
            border-bottom: 2px solid #5d4037;
            display: flex;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .zone-content {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 10px;
        }

        /* Passenger Cards */
        .p-card {
            width: 80px;
            height: 100px;
            background: #ffcc80;
            border: 2px solid #e65100;
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            transition: transform 0.1s;
            color: #000;
        }

        .p-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .p-card.group-member {
            border-width: 3px;
        }

        .p-dest {
            font-size: 28px;
            font-weight: bold;
        }

        .p-weight {
            font-size: 13px;
            margin-top: 5px;
        }

        .p-group-icon {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid rgba(0, 0, 0, 0.3);
        }

        /* Controls Area */
        #controls-area {
            height: 220px;
            display: flex;
            gap: 20px;
            flex-shrink: 0;
        }

        .control-col {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .panel-title {
            color: #bcaaa4;
            font-size: 16px;
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .algo-btn {
            padding: 8px;
            background: #5d4037;
            color: #d7ccc8;
            border: 2px solid #3e2723;
            font-family: inherit;
            font-size: 14px;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
        }

        .algo-btn:hover {
            background: #4e342e;
        }

        .algo-btn.active {
            background: var(--accent-gold);
            color: #1a1212;
            border-color: #fff;
        }

        #action-btn {
            padding: 12px;
            font-size: 20px;
            font-family: inherit;
            background: #2e7d32;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 4px 0 #1b5e20;
            margin-top: auto;
        }

        #preview-btn {
            padding: 8px;
            font-size: 16px;
            font-family: inherit;
            background: #0277bd;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 4px 0 #01579b;
            margin-bottom: 10px;
        }

        #action-btn:active,
        #preview-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        #action-btn:disabled,
        #preview-btn:disabled {
            background: #555;
            box-shadow: none;
            cursor: not-allowed;
        }

        #game-log {
            background: #000;
            border: 2px solid #333;
            padding: 8px;
            font-size: 12px;
            color: #00e676;
            font-family: 'Consolas', monospace;
            height: 100%;
            overflow-y: auto;
        }

        /* Overlayì™€ ê²Œì„ì˜¤ë²„ ëª¨ë‹¬ì€ game-panel ê¸°ì¤€ìœ¼ë¡œ */
        #overlay {
            position: absolute;
            top: 8px;
            right: 8px;
            left: 8px;
            bottom: 8px;
            background: rgba(0, 0, 0, 0.9);
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        #overlay h2 {
            font-size: 36px;
            color: var(--accent-gold);
            margin-bottom: 16px;
        }

        #overlay p {
            font-size: 18px;
            max-width: 500px;
            line-height: 1.6;
            margin-bottom: 24px;
        }

        #start-btn {
            padding: 14px 40px;
            font-size: 24px;
            background: var(--accent-gold);
            border: none;
            cursor: pointer;
            font-family: inherit;
        }

        #game-over-modal {
            display: none;
            position: absolute;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            background: #2d2424;
            border: 4px solid var(--accent-gold);
            padding: 24px;
            text-align: center;
            z-index: 200;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.9);
            width: 420px;
        }

        #game-over-modal h2 {
            color: var(--danger-color);
            font-size: 32px;
            margin: 0 0 16px 0;
        }

        #final-score {
            font-size: 28px;
            color: var(--success-color);
            margin-bottom: 16px;
        }

        .initials-input {
            background: #000;
            border: 2px solid #5d4037;
            color: var(--accent-gold);
            font-size: 32px;
            width: 180px;
            text-align: center;
            font-family: inherit;
            letter-spacing: 6px;
            text-transform: uppercase;
            margin-bottom: 16px;
        }

        #submit-score-btn {
            padding: 10px 26px;
            font-size: 18px;
            background: var(--accent-gold);
            border: none;
            cursor: pointer;
            font-family: inherit;
        }

        #leaderboard {
            margin-top: 18px;
            text-align: left;
            border-top: 2px solid #5d4037;
            padding-top: 12px;
            max-height: 180px;
            overflow-y: auto;
        }

        .rank-row {
            display: flex;
            justify-content: space-between;
            font-size: 16px;
            margin-bottom: 6px;
            color: #bcaaa4;
        }

        .rank-row.top {
            color: var(--accent-gold);
            font-weight: bold;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1212;
        }

        ::-webkit-scrollbar-thumb {
            background: #5d4037;
        }
    </style>
</head>

<body>

    <div id="presentation-root">
        <!-- ===== ì¢Œì¸¡: PPT ìŠ¤íƒ€ì¼ ìŠ¬ë¼ì´ë“œ ===== -->
        <div id="slides-panel">
            <div id="slides-header">
                <div id="slides-header-title">ìŠ¹ê°•ê¸° ìš´ì „ì› íƒ€ì´ì¿¤</div>
                <div id="slide-indicator">1 / 5</div>
            </div>
            <div id="slide-title-display">ê²Œì„ ê°œìš”</div>
            <div id="slides-container">
                <!-- ìŠ¬ë¼ì´ë“œ 1: ê°œìš” -->
                <section class="ppt-slide active" data-title="ê²Œì„ ê°œìš”">
                    <h2>1. í”„ë¡œì íŠ¸ ê°œìš”</h2>
                    <p>
                        <span class="ppt-badge">ì•Œê³ ë¦¬ì¦˜ ì‹œë®¬ë ˆì´í„°</span>
                        <span class="ppt-badge">HTML ê²Œì„</span>
                    </p>
                    <p>
                        ë³¸ í”„ë¡œì íŠ¸ëŠ” <b>ìŠ¹ê°•ê¸° ìš´ì „ì›</b>ì˜ ì…ì¥ì—ì„œ ìŠ¹ê°ì„ íƒœìš°ê³ ,
                        <b>ì„ íƒí•œ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¼ ì´ë™ ê²½ë¡œë¥¼ ìë™ ê³„ì‚°</b>í•´ì£¼ëŠ”
                        <b>ì›¹ ê¸°ë°˜ êµìœ¡ìš© ê²Œì„</b>ì…ë‹ˆë‹¤.
                    </p>
                    <h3>í•µì‹¬ ëª©í‘œ</h3>
                    <ul>
                        <li>ì—˜ë¦¬ë² ì´í„° ìš´í–‰ ë¬¸ì œë¥¼ í†µí•´ <b>ê²½ë¡œ ìµœì í™” ì•Œê³ ë¦¬ì¦˜</b>ì„ ì§ê´€ì ìœ¼ë¡œ ì´í•´</li>
                        <li>ì •ì›/í•˜ì¤‘/ê·¸ë£¹ ìŠ¹ê° ë“± <b>ì œì•½ ì¡°ê±´ì„ ê³ ë ¤í•œ ì˜ì‚¬ê²°ì •</b> ì²´í—˜</li>
                        <li>ë¸Œë¼ìš°ì €ë§Œìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ <b>ê²½ëŸ‰ HTML/CSS/JS ê²Œì„</b> êµ¬í˜„</li>
                    </ul>
                </section>

                <!-- ìŠ¬ë¼ì´ë“œ 2: ê²Œì„ ê·œì¹™ -->
                <section class="ppt-slide" data-title="ê²Œì„ ê·œì¹™ ë° ì ìˆ˜">
                    <h2>2. ê²Œì„ ê·œì¹™</h2>
                    <h3>ê¸°ë³¸ ì„¤ì •</h3>
                    <ul>
                        <li>ì¸µ ìˆ˜: <b>15ì¸µ</b> ê±´ë¬¼</li>
                        <li>ì •ì›: <b>8ëª…</b>, ìµœëŒ€ í•˜ì¤‘: <b>800kg</b></li>
                        <li><b>ì›¨ì´ë¸Œ(Wave) 5íšŒ</b> ë™ì•ˆ ìŠ¹ê°ì„ ìš´ì†¡</li>
                    </ul>
                    <h3>ìŠ¹ê° ê·œì¹™</h3>
                    <ul>
                        <li>ëœë¤ ëª©ì ì¸µê³¼ ëª¸ë¬´ê²Œ(60~130kg)ë¥¼ ê°€ì§„ ìŠ¹ê° ìƒì„±</li>
                        <li><b>ê·¸ë£¹ ìŠ¹ê°</b>ì€ ê°™ì€ ìƒ‰ìœ¼ë¡œ í‘œì‹œë˜ë©°, <b>í•­ìƒ ê°™ì´ íƒ‘ìŠ¹/í•˜ì°¨</b></li>
                        <li>ìŠ¹ê° ì¹´ë“œë¥¼ í´ë¦­í•˜ì—¬ ìŠ¹ê°•ê¸° íƒ‘ìŠ¹/ëŒ€ê¸°ì‹¤ ì´ë™</li>
                    </ul>
                    <h3>ì ìˆ˜ ì‹œìŠ¤í…œ</h3>
                    <ul>
                        <li><b>ì›¨ì´ë¸Œ ì ìˆ˜</b> = (ì´ë™ ìŠ¹ê° ìˆ˜ Ã— 500ì ) âˆ’ (ì´ë™ ê±°ë¦¬ Ã— 10ì )</li>
                        <li>ì´ì  = ëª¨ë“  ì›¨ì´ë¸Œ ì ìˆ˜ í•©</li>
                        <li><span class="inline-label">ğŸ‘‰ ì˜¤ë¥¸ìª½ ê²Œì„ì—ì„œ ì§ì ‘ íƒ‘ìŠ¹/ìš´í–‰í•´ ë³´ë©´ì„œ ì ìˆ˜ ë³€í™”ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span></li>
                    </ul>
                </section>

                <!-- ìŠ¬ë¼ì´ë“œ 3: ì•Œê³ ë¦¬ì¦˜ -->
                <section class="ppt-slide" data-title="íƒ‘ìŠ¹ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ">
                    <h2>3. ì´ë™ ì•Œê³ ë¦¬ì¦˜</h2>
                    <p>ìŠ¹ê°•ê¸°ê°€ ì–´ë–¤ ìˆœì„œë¡œ ì¸µì„ ë°©ë¬¸í• ì§€ <b>ì•Œê³ ë¦¬ì¦˜</b>ìœ¼ë¡œ ê²°ì •í•©ë‹ˆë‹¤.</p>

                    <h3>ì•Œê³ ë¦¬ì¦˜ ì„ íƒ (ìŠ¬ë¼ì´ë“œì—ì„œ ì§ì ‘ ì œì–´)</h3>
                    <p>
                        <button class="algo-link" data-select-algo="greedy">
                            íƒìš•ì  ê¸°ë²• (Greedy)
                        </button>
                        â€“ í˜„ì¬ ì¸µì—ì„œ <b>ê°€ì¥ ê°€ê¹Œìš´ ëª©ì ì¸µ</b>ë¶€í„° ì°¨ë¡€ë¡œ ë°©ë¬¸
                    </p>
                    <p>
                        <button class="algo-link" data-select-algo="divide">
                            ë¶„í•  ì •ë³µ (Divide & Conquer)
                        </button>
                        â€“ í˜„ì¬ ì¸µ ê¸°ì¤€ìœ¼ë¡œ <b>ìœ„/ì•„ë˜ ì¸µì„ ë‚˜ëˆ„ì–´</b> í•œìª½ ë°©í–¥ì„ ë¨¼ì € ì²˜ë¦¬
                    </p>
                    <p>
                        <button class="algo-link" data-select-algo="bnb">
                            ë¶„ê¸° í•œì • (Branch &amp; Bound)
                        </button>
                        â€“ ê°€ëŠ¥í•œ ëª¨ë“  ê²½ë¡œë¥¼ íƒìƒ‰í•˜ë˜,
                        <b>ê°€ì§€ì¹˜ê¸°(Pruning)</b>ë¡œ <b>ìµœì†Œ ì´ë™ ê±°ë¦¬</b> ê²½ë¡œë§Œ ì„ íƒ
                    </p>

                    <h3>ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥</h3>
                    <ul>
                        <li>ìŠ¹ê°ì„ íƒœìš´ í›„ <b>â€œê²½ë¡œ ë¯¸ë¦¬ë³´ê¸°â€</b> ë²„íŠ¼ í´ë¦­</li>
                        <li>ì„ íƒí•œ ì•Œê³ ë¦¬ì¦˜ì— ë”°ë¥¸ <b>ë°©ë¬¸ ìˆœì„œ</b>ê°€ ë¡œê·¸ì— ì¶œë ¥</li>
                        <li><span class="inline-label">ğŸ‘‰ ìœ„ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•Œê³ ë¦¬ì¦˜ì„ ë°”ê¾¸ê³ , ì˜¤ë¥¸ìª½ì—ì„œ ë°”ë¡œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì‹œì—°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span></li>
                    </ul>
                </section>

                <!-- ìŠ¬ë¼ì´ë“œ 4: êµ¬í˜„ êµ¬ì¡° -->
                <section class="ppt-slide" data-title="êµ¬í˜„ êµ¬ì¡°">
                    <h2>4. êµ¬í˜„ êµ¬ì¡° (ì½”ë“œ ê´€ì )</h2>
                    <h3>ìƒíƒœ(State)</h3>
                    <ul>
                        <li><code>currentFloor</code>: í˜„ì¬ ì¸µ (ì´ˆê¸° 8ì¸µ)</li>
                        <li><code>waveCount</code>: í˜„ì¬ ì›¨ì´ë¸Œ ë²ˆí˜¸ (1~5)</li>
                        <li><code>passengers[]</code>: ìŠ¹ê° ì •ë³´ (ëª©ì ì¸µ, ëª¸ë¬´ê²Œ, ê·¸ë£¹ ID, ìƒíƒœ ë“±)</li>
                        <li><code>totalScore</code>, <code>waveDistance</code>: ì ìˆ˜ ë° ì´ë™ ê±°ë¦¬ ê¸°ë¡</li>
                    </ul>
                    <h3>í•µì‹¬ í•¨ìˆ˜</h3>
                    <ul>
                        <li><b><code>startWave()</code></b> â€“ ì›¨ì´ë¸Œ ì‹œì‘, ìŠ¹ê° ìƒì„±</li>
                        <li><b><code>togglePassenger()</code></b> â€“ ìŠ¹ê° íƒ‘ìŠ¹/í•˜ì°¨ ë° ì œì•½ ì¡°ê±´ ê²€ì‚¬</li>
                        <li><b><code>solvePath(algo, start, boarded)</code></b> â€“ ì•Œê³ ë¦¬ì¦˜ë³„ ê²½ë¡œ ê³„ì‚°</li>
                        <li><b><code>animateElevator(path)</code></b> â€“ ì‹¤ì œ ì—˜ë¦¬ë² ì´í„° ì´ë™ ì• ë‹ˆë©”ì´ì…˜</li>
                    </ul>
                    <p>
                        <span class="inline-label"></span>
                    </p>
                </section>

                <!-- ìŠ¬ë¼ì´ë“œ 5: ë°ëª¨ ì•ˆë‚´ -->
                <section class="ppt-slide" data-title="ë°ëª¨ ì‹œì—° í¬ì¸íŠ¸">
                    <h2>5. ë°ëª¨ ì‹œì—° í¬ì¸íŠ¸</h2>
                    <h3>1) ê¸°ë³¸ ìš´í–‰ ì‹œì—°</h3>
                    <ul>
                        <li>ëŒ€ê¸°ì‹¤ ìŠ¹ê° ëª‡ ëª…ì„ ì„ íƒí•˜ì—¬ ìŠ¹ê°•ê¸°ì— íƒ‘ìŠ¹</li>
                        <li><b>ì •ì›/í•˜ì¤‘ ì´ˆê³¼</b> ë©”ì‹œì§€ì™€ íš¨ê³¼ìŒ í™•ì¸</li>
                        <li><b>Greedy</b> ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í•œ ë²ˆ ìš´í–‰</li>
                    </ul>

                    <h3>2) ì•Œê³ ë¦¬ì¦˜ ë¹„êµ ì‹œì—°</h3>
                    <ul>
                        <li>ê°™ì€ ìŠ¹ê° êµ¬ì„±ì„ ë‘ê³ , <b>Greedy / Divide &amp; Conquer / Branch &amp; Bound</b> ìˆœìœ¼ë¡œ ë¹„êµ</li>
                        <li>ê° ì•Œê³ ë¦¬ì¦˜ ì„ íƒì€ <b>ìŠ¬ë¼ì´ë“œì˜ ë²„íŠ¼</b> ë˜ëŠ” ì˜¤ë¥¸ìª½ ê²Œì„ ë‚´ë¶€ ë²„íŠ¼ìœ¼ë¡œ ë³€ê²½</li>
                        <li>ë¡œê·¸ ì˜ì—­ì—ì„œ <b>ê²½ë¡œ ì°¨ì´ì™€ ì´ë™ ê±°ë¦¬</b>ë¥¼ ê°™ì´ ë³´ì—¬ì£¼ê¸°</li>
                    </ul>

                    <h3>3) ì ìˆ˜ / ë­í‚¹</h3>
                    <ul>
                        <li>ì›¨ì´ë¸Œ ì¢…ë£Œ í›„ ì ìˆ˜ ê³„ì‚° ë°©ì‹ ì„¤ëª…</li>
                        <li>ëª¨ë“  ì›¨ì´ë¸Œ ì¢…ë£Œ ì‹œ <b>GAME OVER &amp; ì´ë‹ˆì…œ ì…ë ¥</b> ì‹œì—°</li>
                        <li><b>ë¸Œë¼ìš°ì € localStorage</b>ë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ ë¦¬ë”ë³´ë“œ êµ¬í˜„ ì„¤ëª…</li>
                    </ul>
                </section>
            </div>
            <div id="slide-controls">
                <div id="slide-controls-left">
                    <button class="slide-nav-btn" id="prev-slide-btn">â—€ ì´ì „</button>
                    <button class="slide-nav-btn" id="next-slide-btn">ë‹¤ìŒ â–¶</button>
                </div>
                <div id="slide-controls-hint">
                    ë°©í–¥í‚¤ <b>â† / â†’</b> ë¡œë„ ìŠ¬ë¼ì´ë“œë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </div>
            </div>
        </div>

        <!-- ===== ìš°ì¸¡: ì‹¤ì œ ê²Œì„ ===== -->
        <div id="game-panel">
            <div id="game-container">
                <!-- Left: Simulation -->
                <div id="building-view">
                    <div id="elevator-shaft">
                        <div id="elevator-car"></div>
                    </div>
                    <!-- Floors generated by JS -->
                </div>

                <!-- Right: Interface -->
                <div id="control-panel">
                    <header>
                        <h1>ìŠ¹ê°•ê¸° ìš´ì „ì› íƒ€ì´ì¿¤</h1>
                        <div class="score-info">ì ìˆ˜: <span id="score-display">0</span></div>
                        <div class="wave-info">ì›¨ì´ë¸Œ <span id="wave-num">1</span>/5</div>
                    </header>

                    <!-- Passenger Selection Area -->
                    <div id="passenger-interface">
                        <!-- Platform -->
                        <div class="zone" id="platform-zone">
                            <div class="zone-header">
                                <span>ëŒ€ê¸°ì‹¤ </span>
                                <span id="waiting-count">0</span>
                            </div>
                            <div class="zone-content" id="platform-content">
                                <!-- Passengers go here -->
                            </div>
                        </div>

                        <!-- Elevator -->
                        <div class="zone" id="elevator-zone">
                            <div class="zone-header">
                                <span>ìŠ¹ê°•ê¸°(<span id="current-floor-display">1F</span>)</span>
                                <span>
                                    <span id="capacity-display">0/8</span> |
                                    <span id="weight-display">0/800kg</span>
                                </span>
                            </div>
                            <div class="zone-content" id="elevator-content">
                                <!-- Boarded passengers go here -->
                            </div>
                        </div>
                    </div>

                    <!-- Controls -->
                    <div id="controls-area">
                        <div class="control-col">
                            <div class="panel-title">ì•Œê³ ë¦¬ì¦˜ ì„ íƒ</div>
                            <button class="algo-btn active" data-algo="greedy">íƒìš•ì  ê¸°ë²• (Greedy)</button>
                            <button class="algo-btn" data-algo="divide">ë¶„í•  ì •ë³µ (Divide & Conquer)</button>
                            <button class="algo-btn" data-algo="bnb">ë¶„ê¸° í•œì • (Branch &amp; Bound)</button>
                        </div>
                        <div class="control-col">
                            <div class="panel-title">ë¡œê·¸</div>
                            <div id="game-log"></div>
                        </div>
                        <div class="control-col" style="flex: 0.8;">
                            <button id="preview-btn">ê²½ë¡œ ë¯¸ë¦¬ë³´ê¸°</button>
                            <button id="action-btn">ì¶œë°œ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê²Œì„ ì˜¤ë²„ë ˆì´ & ëª¨ë‹¬ -->
            <div id="overlay">
                <h2>ìŠ¹ê°•ê¸° ìš´ì „ì› íƒ€ì´ì¿¤</h2>
                <p>
                    <b>ìš´ì „ì› ë§¤ë‰´ì–¼:</b><br><br>
                    1. <b>ëŒ€ê¸°ì‹¤</b>ì—ì„œ ìŠ¹ê°ì„ ì„ íƒí•˜ì—¬ íƒ‘ìŠ¹ì‹œí‚¤ì„¸ìš”.<br>
                    2. <b>ê°™ì€ ìƒ‰ìƒì˜ ê·¸ë£¹</b>ì€ í•¨ê»˜ íƒ‘ìŠ¹í•´ì•¼ í•©ë‹ˆë‹¤.<br>
                    3. <b>ì •ì›</b>ê³¼ <b>í•˜ì¤‘</b> ì œí•œì„ ì£¼ì˜í•˜ì„¸ìš”.<br>
                    4. ìµœì ì˜ ê²½ë¡œë¥¼ ìœ„í•œ <b>ì•Œê³ ë¦¬ì¦˜</b>ì„ ì„ íƒí•˜ì„¸ìš”.<br>
                    5. <b>ë¯¸ë¦¬ë³´ê¸°</b>ë¥¼ í™•ì¸í•˜ê³  <b>ì¶œë°œ</b> ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.<br><br>
                    <span style="color: var(--success-color); font-size: 0.9em;">
                        * <b>ì ìˆ˜</b> = (ì´ë™ ìŠ¹ê° Ã— 500) - (ì´ë™ ê±°ë¦¬ Ã— 10)
                    </span><br>
                </p>
                <button id="start-btn">ìš´í–‰ ì‹œì‘</button>
            </div>

            <div id="game-over-modal">
                <h2>GAME OVER</h2>
                <div id="final-score">0ì </div>
                <input type="text" class="initials-input" maxlength="3" placeholder="AAA"
                    oninput="this.value = this.value.toUpperCase()">
                <br>
                <button id="submit-score-btn">ì ìˆ˜ ë“±ë¡</button>

                <div id="leaderboard">
                    <!-- Ranks go here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        /* ===== ìŠ¬ë¼ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§ ===== */
        const slides = document.querySelectorAll('.ppt-slide');
        const slideTitleDisplay = document.getElementById('slide-title-display');
        const slideIndicator = document.getElementById('slide-indicator');
        const prevSlideBtn = document.getElementById('prev-slide-btn');
        const nextSlideBtn = document.getElementById('next-slide-btn');

        let currentSlideIndex = 0;

        function updateSlideUI() {
            slides.forEach((s, i) => {
                s.classList.toggle('active', i === currentSlideIndex);
            });
            const active = slides[currentSlideIndex];
            slideTitleDisplay.textContent = active.dataset.title || '';
            slideIndicator.textContent = (currentSlideIndex + 1) + ' / ' + slides.length;
        }

        function gotoSlide(index) {
            if (index < 0 || index >= slides.length) return;
            currentSlideIndex = index;
            updateSlideUI();
        }

        prevSlideBtn.addEventListener('click', () => {
            gotoSlide(currentSlideIndex - 1);
        });

        nextSlideBtn.addEventListener('click', () => {
            gotoSlide(currentSlideIndex + 1);
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                gotoSlide(currentSlideIndex + 1);
            } else if (e.key === 'ArrowLeft') {
                gotoSlide(currentSlideIndex - 1);
            }
        });

        updateSlideUI();

        /* ===== ê¸°ì¡´ ê²Œì„ ë¡œì§ (ì•½ê°„ë§Œ ìˆ˜ì •) ===== */
        const FLOORS = 15;
        const MAX_PEOPLE = 8;
        const MAX_WEIGHT = 800;
        const FLOOR_HEIGHT = 50;
        const MAX_WAVES = 5;

        const AudioContextCls = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContextCls();

        function playTone(freq, type, duration) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + duration);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        const sfx = {
            ding: () => playTone(523.25, 'sine', 0.8),
            move: () => playTone(100, 'sawtooth', 0.1),
            error: () => playTone(150, 'square', 0.3),
            click: () => playTone(800, 'triangle', 0.05),
            board: () => playTone(400, 'sine', 0.1),
            win: () => {
                playTone(523.25, 'square', 0.1);
                setTimeout(() => playTone(659.25, 'square', 0.1), 100);
                setTimeout(() => playTone(783.99, 'square', 0.2), 200);
            }
        };

        let currentFloor = 8;
        let waveCount = 1;
        let isMoving = false;
        let totalScore = 0;
        let waveDistance = 0;
        let passengers = [];

        const buildingView = document.getElementById('building-view');
        const elevatorCar = document.getElementById('elevator-car');
        const platformContent = document.getElementById('platform-content');
        const elevatorContent = document.getElementById('elevator-content');
        const capacityDisplay = document.getElementById('capacity-display');
        const weightDisplay = document.getElementById('weight-display');
        const logDiv = document.getElementById('game-log');
        const actionBtn = document.getElementById('action-btn');
        const previewBtn = document.getElementById('preview-btn');
        const algoBtns = document.querySelectorAll('.algo-btn');
        const currentFloorDisplay = document.getElementById('current-floor-display');
        const waitingCountDisplay = document.getElementById('waiting-count');
        const scoreDisplay = document.getElementById('score-display');
        const waveNumDisplay = document.getElementById('wave-num');

        const gameOverModal = document.getElementById('game-over-modal');
        const finalScoreDisplay = document.getElementById('final-score');
        const initialsInput = document.querySelector('.initials-input');
        const submitScoreBtn = document.getElementById('submit-score-btn');
        const leaderboardDiv = document.getElementById('leaderboard');

        /* ê²Œì„ ì´ˆê¸°í™” */
        function initGame() {
            currentFloor = 8;
            waveCount = 1;
            totalScore = 0;
            isMoving = false;
            scoreDisplay.textContent = 0;

            const shaft = document.getElementById('elevator-shaft');
            buildingView.innerHTML = '';
            if (shaft) buildingView.appendChild(shaft);

            for (let i = 1; i <= FLOORS; i++) {
                const f = document.createElement('div');
                f.className = 'floor';
                f.id = `floor-${i}`;

                const label = document.createElement('div');
                label.className = 'floor-label';
                label.textContent = `${i}F`;

                f.appendChild(label);
                buildingView.appendChild(f);
            }

            updateElevatorVisual(currentFloor);
            startWave();
        }

        function startWave() {
            if (waveCount > MAX_WAVES) {
                endGame();
                return;
            }

            log(`>>> ì›¨ì´ë¸Œ ${waveCount}/${MAX_WAVES} ì‹œì‘ (í˜„ì¬ ${currentFloor}ì¸µ) <<<`);
            waveNumDisplay.textContent = waveCount;
            waveDistance = 0;

            passengers = [];
            const count = Math.floor(Math.random() * 5) + 3; // 3-7

            for (let i = 0; i < count; i++) {
                const isGroup = Math.random() < 0.3;
                const groupSize = isGroup ? 2 : 1;
                const dest = getRandomFloor(currentFloor);
                const groupId = isGroup ? `g-${Date.now()}-${i}` : null;
                const groupColor = isGroup ? getGroupColor(i) : '#ffcc80';

                for (let g = 0; g < groupSize; g++) {
                    passengers.push({
                        id: `${i}-${g}`,
                        dest: dest,
                        weight: Math.floor(Math.random() * 70) + 60,
                        status: 'waiting',
                        groupId: groupId,
                        color: groupColor
                    });
                }
            }

            renderInterface();
            actionBtn.disabled = false;
            previewBtn.disabled = false;
            actionBtn.textContent = "ì¶œë°œ";
            sfx.ding();
        }

        function endGame() {
            sfx.win();
            gameOverModal.style.display = 'block';
            finalScoreDisplay.textContent = `${totalScore}ì `;
            initialsInput.value = '';
            initialsInput.disabled = false;
            submitScoreBtn.disabled = false;
            loadLeaderboard();
        }

        function getRandomFloor(exclude) {
            let f = exclude;
            while (f === exclude) f = Math.floor(Math.random() * FLOORS) + 1;
            return f;
        }

        function getGroupColor(seed) {
            const hues = [0, 60, 120, 180, 240, 300];
            const hue = hues[seed % hues.length];
            return `hsl(${hue}, 70%, 80%)`;
        }

        function renderInterface() {
            platformContent.innerHTML = '';
            elevatorContent.innerHTML = '';

            const waiting = passengers.filter(p => p.status === 'waiting');
            const boarded = passengers.filter(p => p.status === 'boarded');

            currentFloorDisplay.textContent = `${currentFloor}F`;
            waitingCountDisplay.textContent = waiting.length;
            scoreDisplay.textContent = totalScore;

            const totalWeight = boarded.reduce((sum, p) => sum + p.weight, 0);
            capacityDisplay.textContent = `${boarded.length}/${MAX_PEOPLE}`;
            weightDisplay.textContent = `${totalWeight}/${MAX_WEIGHT}kg`;

            if (totalWeight > MAX_WEIGHT) weightDisplay.style.color = 'var(--danger-color)';
            else weightDisplay.style.color = 'var(--accent-gold)';

            waiting.forEach(p => createCard(p, platformContent));
            boarded.forEach(p => createCard(p, elevatorContent));
        }

        function createCard(p, container) {
            const card = document.createElement('div');
            card.className = 'p-card';
            card.style.backgroundColor = p.color;
            if (p.groupId) {
                card.classList.add('group-member');
                card.style.borderColor = '#000';

                const icon = document.createElement('div');
                icon.className = 'p-group-icon';
                icon.style.backgroundColor = p.color;
                card.appendChild(icon);
            }

            const dest = document.createElement('div');
            dest.className = 'p-dest';
            dest.textContent = p.dest;

            const weight = document.createElement('div');
            weight.className = 'p-weight';
            weight.textContent = `${p.weight}kg`;

            card.appendChild(dest);
            card.appendChild(weight);

            card.onclick = () => togglePassenger(p);
            container.appendChild(card);
        }

        function togglePassenger(p) {
            if (isMoving) return;

            const targetPassengers = p.groupId
                ? passengers.filter(x => x.groupId === p.groupId)
                : [p];

            const isBoarding = (p.status === 'waiting');

            if (isBoarding) {
                const boarded = passengers.filter(x => x.status === 'boarded');
                const currentWeight = boarded.reduce((sum, x) => sum + x.weight, 0);

                const addCount = targetPassengers.length;
                const addWeight = targetPassengers.reduce((sum, x) => sum + x.weight, 0);

                if (boarded.length + addCount > MAX_PEOPLE) {
                    log("ì •ì› ì´ˆê³¼!"); sfx.error(); return;
                }
                if (currentWeight + addWeight > MAX_WEIGHT) {
                    log("í•˜ì¤‘ ì´ˆê³¼!"); sfx.error(); return;
                }

                targetPassengers.forEach(tp => tp.status = 'boarded');
                sfx.board();
            } else {
                targetPassengers.forEach(tp => tp.status = 'waiting');
                sfx.click();
            }

            renderInterface();
        }

        function getSelectedAlgo() {
            const active = document.querySelector('.algo-btn.active');
            return active ? active.dataset.algo : 'greedy';
        }

        // ìŠ¬ë¼ì´ë“œì—ì„œ ì•Œê³ ë¦¬ì¦˜ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•¨ìˆ˜ ë¶„ë¦¬
        function setAlgo(algo) {
            if (isMoving) return;
            algoBtns.forEach(b => {
                if (b.dataset.algo === algo) b.classList.add('active');
                else b.classList.remove('active');
            });
            sfx.click();
            log(`[ìŠ¬ë¼ì´ë“œ] ì•Œê³ ë¦¬ì¦˜ ë³€ê²½: ${algo.toUpperCase()}`);
        }

        function solvePath(algo, start, boarded) {
            const destinations = [...new Set(boarded.map(p => p.dest))];
            if (destinations.length === 0) return [];

            if (algo === 'greedy') {
                let current = start;
                let remaining = [...destinations];
                const path = [];
                while (remaining.length > 0) {
                    remaining.sort((a, b) => Math.abs(a - current) - Math.abs(b - current));
                    const next = remaining.shift();
                    path.push(next);
                    current = next;
                }
                return path;

            } else if (algo === 'divide') {
                const sorted = [...destinations].sort((a, b) => a - b);
                const lower = sorted.filter(x => x < start).sort((a, b) => b - a);
                const upper = sorted.filter(x => x > start).sort((a, b) => a - b);
                if (Math.abs(start - (lower[0] || 999)) < Math.abs(start - (upper[0] || 999))) {
                    return [...lower, ...upper];
                } else {
                    return [...upper, ...lower];
                }

            } else if (algo === 'bnb') {
                let bestPath = null;
                let minCost = Infinity;

                function search(currentFloor, visited, currentPath, currentCost) {
                    if (currentCost >= minCost) return;

                    if (visited.length === destinations.length) {
                        if (currentCost < minCost) {
                            minCost = currentCost;
                            bestPath = [...currentPath];
                        }
                        return;
                    }

                    for (const dest of destinations) {
                        if (!visited.includes(dest)) {
                            const dist = Math.abs(dest - currentFloor);
                            search(dest, [...visited, dest], [...currentPath, dest], currentCost + dist);
                        }
                    }
                }

                search(start, [], [], 0);
                return bestPath;
            }

            return [];
        }

        function showPreview() {
            if (isMoving) return;
            const boarded = passengers.filter(p => p.status === 'boarded');
            if (boarded.length === 0) {
                log("íƒ‘ìŠ¹í•œ ìŠ¹ê°ì´ ì—†ìŠµë‹ˆë‹¤.");
                return;
            }
            const algo = getSelectedAlgo();
            const path = solvePath(algo, currentFloor, boarded);
            log(`[ë¯¸ë¦¬ë³´ê¸°] ${algo.toUpperCase()}: ${currentFloor} -> ${path.join(' -> ')}`);
        }

        previewBtn.addEventListener('click', showPreview);

        actionBtn.addEventListener('click', () => {
            if (isMoving) return;
            const boarded = passengers.filter(p => p.status === 'boarded');
            if (boarded.length === 0) {
                log("íƒ‘ìŠ¹í•œ ìŠ¹ê°ì´ ì—†ìŠµë‹ˆë‹¤!"); sfx.error(); return;
            }

            isMoving = true;
            actionBtn.disabled = true;
            previewBtn.disabled = true;
            actionBtn.textContent = "ìš´í–‰ ì¤‘...";

            const algo = getSelectedAlgo();
            const path = solvePath(algo, currentFloor, boarded);

            log(`ì•Œê³ ë¦¬ì¦˜: ${algo.toUpperCase()} | ê²½ë¡œ: ${currentFloor} -> ${path.join(' -> ')}`);
            animateElevator(path);
        });

        async function animateElevator(path) {
            for (const dest of path) {
                sfx.move();
                await moveElevatorTo(dest);
                sfx.ding();
                log(`${dest}ì¸µ ë„ì°©.`);

                const leaving = passengers.filter(p => p.status === 'boarded' && p.dest === dest);
                leaving.forEach(p => p.status = 'delivered');

                renderInterface();
                await sleep(600);
            }

            const deliveredCount = passengers.filter(p => p.status === 'delivered').length;
            const waveScore = (deliveredCount * 500) - (waveDistance * 10);
            totalScore += waveScore;
            scoreDisplay.textContent = totalScore;

            const efficiency = deliveredCount > 0 ? waveScore / deliveredCount : 0;
            let rank = 'C';
            if (efficiency >= 450) rank = 'S';
            else if (efficiency >= 400) rank = 'A';
            else if (efficiency >= 300) rank = 'B';

            log(`[í‰ê°€] ì ìˆ˜: ${waveScore}ì  | ê±°ë¦¬: ${waveDistance}ì¸µ | ë“±ê¸‰: ${rank}`);

            log("ìš´í–‰ ì™„ë£Œ. ëŒ€ê¸° ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤...");
            await sleep(500);

            const restFloor = Math.floor(Math.random() * 6) + 5;
            await moveElevatorTo(restFloor);
            log(`ëŒ€ê¸° ìœ„ì¹˜(${restFloor}ì¸µ) ë„ì°©.`);

            isMoving = false;
            waveCount++;
            setTimeout(startWave, 1000);
        }

        function moveElevatorTo(target) {
            return new Promise(resolve => {
                const dist = Math.abs(target - currentFloor);
                waveDistance += dist;

                const duration = dist * 400;

                elevatorCar.style.transition = `bottom ${duration}ms linear`;
                elevatorCar.style.bottom = `${(target - 1) * FLOOR_HEIGHT}px`;

                currentFloor = target;
                setTimeout(resolve, duration);
            });
        }

        function updateElevatorVisual(floor) {
            elevatorCar.style.bottom = `${(floor - 1) * FLOOR_HEIGHT}px`;
        }

        function log(msg) {
            const div = document.createElement('div');
            div.textContent = `> ${msg}`;
            logDiv.appendChild(div);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        const sleep = ms => new Promise(r => setTimeout(r, ms));

        algoBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                if (isMoving) return;
                algoBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                sfx.click();
            });
        });

        function loadLeaderboard() {
            const scores = JSON.parse(localStorage.getItem('elevator_scores') || '[]');
            leaderboardDiv.innerHTML = '';

            scores.slice(0, 5).forEach((s, i) => {
                const row = document.createElement('div');
                row.className = `rank-row ${i === 0 ? 'top' : ''}`;
                row.innerHTML = `<span>${i + 1}. ${s.name}</span> <span>${s.score}</span>`;
                leaderboardDiv.appendChild(row);
            });
        }

        submitScoreBtn.addEventListener('click', () => {
            const name = initialsInput.value.toUpperCase();
            if (name.length < 3) {
                alert("ì´ë‹ˆì…œ 3ê¸€ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            const scores = JSON.parse(localStorage.getItem('elevator_scores') || '[]');
            scores.push({ name: name, score: totalScore });
            scores.sort((a, b) => b.score - a.score);
            localStorage.setItem('elevator_scores', JSON.stringify(scores));

            loadLeaderboard();
            submitScoreBtn.disabled = true;
            initialsInput.disabled = true;

            const restartBtn = document.createElement('button');
            restartBtn.textContent = "ë‹¤ì‹œ í•˜ê¸°";
            restartBtn.style.marginTop = "16px";
            restartBtn.style.padding = "8px 18px";
            restartBtn.style.fontSize = "16px";
            restartBtn.style.background = "#2e7d32";
            restartBtn.style.color = "#fff";
            restartBtn.style.border = "none";
            restartBtn.style.cursor = "pointer";
            restartBtn.onclick = () => location.reload();
            gameOverModal.appendChild(restartBtn);
        });

        document.getElementById('start-btn').addEventListener('click', () => {
            document.getElementById('overlay').style.display = 'none';
            if (audioCtx.state === 'suspended') audioCtx.resume();
            initGame();
        });

        /* ìŠ¬ë¼ì´ë“œ â†’ ê²Œì„ ì•Œê³ ë¦¬ì¦˜ ì—°ë™ */
        document.querySelectorAll('[data-select-algo]').forEach(el => {
            el.addEventListener('click', () => {
                const algo = el.dataset.selectAlgo;
                setAlgo(algo);
            });
        });
    </script>

</body>

</html>